<!DOCTYPE html>

<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
	<meta charset="utf-8" />

	<!-- Set the viewport width to device width for mobile -->
	<meta name="viewport" content="width=device-width" />

	<title>Firstsite Gold Rush | Edit your image</title>
  
	<!-- Included CSS Files -->
	<link rel="stylesheet" href="stylesheets/foundation.css">
	<link rel="stylesheet" href="stylesheets/app.css">

	<!--[if lt IE 9]>
		<link rel="stylesheet" href="stylesheets/ie.css">
	<![endif]-->
	
	<script src="javascripts/modernizr.foundation.js"></script>

	<!-- IE Fix for HTML5 Tags -->
	<!--[if lt IE 9]>
		<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

</head>
<body>

	<!-- container -->
	<div class="container">
	
	<div id="team-info" class="row">
			<div class="phone-one three columns">
				<img src="images/gr-logo.png" alt="logo" />
			</div>
			<div class="phone-three three columns">
				<h1>Team Name here</h1>
				<span id="score">Current score: <strong id="score-target" class="blue round label">11</strong></span>
			</div>
		</div>
	<div class="row">
		<div id="back-to-game" class="phone-four columns">
			<a href="#" class="large radius button">Back to the game</a>
		</div>
	</div>

		<div id="profile-grid" class="row">
			<!-- Template for unlocked images
			<div class="grid-unit">
				<a href="#"><img src="http://placehold.it/1000x1000"></a>
			</div>
			-->
		</div>

		
		
	</div><!-- container -->




	<!-- Included JS Files -->
	<script src="javascripts/jquery.min.js"></script>
	<script src="javascripts/foundation.js"></script>
	<script src="javascripts/app.js"></script>

	<script type="text/javascript">
		// TODO: Later use PersistJS or something
		var teamname = 'test';

		$(document).ready(function() {
			$.getJSON('server/profile.php?teamname=' + teamname, function (data) {
				console.log(data);
				$('#score-target').text(data.score);

				for (i in data.images) {
					var image = data.images[i];
					
					console.log('adding unlocked image ' + image);

					// Ok, load the image !
					// $.get(image, function (data) {
					// 	$('#profile-grid').append('<div class="grid-unit"><a href="#"><img src="' + data + '"></a></div>');
					// });
					$('#profile-grid').append('<div class="grid-unit"><a href="#"><img src="' + image + '"></a></div>');
				}
			});
		});
	</script>

</body>
</html>
