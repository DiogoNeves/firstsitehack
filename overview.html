<!DOCTYPE html>

<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
	<meta charset="utf-8" />

	<!-- Set the viewport width to device width for mobile -->
	<meta name="viewport" content="width=device-width" />

	<title>Firstsite Gold Rush | Edit your image</title>
  
	<!-- Included CSS Files -->
	<link rel="stylesheet" href="stylesheets/foundation.css">
	<link rel="stylesheet" href="stylesheets/app.css">

	<!--[if lt IE 9]>
		<link rel="stylesheet" href="stylesheets/ie.css">
	<![endif]-->
	
	<script src="javascripts/modernizr.foundation.js"></script>

	<!-- IE Fix for HTML5 Tags -->
	<!--[if lt IE 9]>
		<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

</head>
<body>

	<!-- container -->
	<div class="container">

		<div id="header" class="row">
			<div class="three columns">
				<img src="images/logo.png" alt="logo" width="252" height="68" />
			</div>
			<div class="two columns">
				<img src="images/gr-logo.png" alt="logo" width="252" height="68" />
			</div>
			<div class="four columns">
				<a id="add-more-button" href="./edit.html" class="large radius button">Add more images</a>
			</div>
		</div>

		
		<div class="row zone">
		<div class="two columns">
			<h2>Zone 1</h2>
		</div>
			<div class="two columns">
			<a href="#"><img id="z1_0" src="http://placehold.it/1000x1000"></a>
			</div>
			<div class="two columns">
			<a href="#"><img id="z1_1" src="http://placehold.it/1000x1000"></a>
			</div>
			<div class="two columns">
			<a href="#"><img id="z1_2" src="http://placehold.it/1000x1000"></a>
			</div>
			<div class="two columns">
			<a href="#"><img id="z1_3" src="http://placehold.it/1000x1000"></a>
			</div>
			<div class="two columns end">
			<a href="#"><img id="z1_4" src="http://placehold.it/1000x1000"></a>
			</div>
		</div>
		
		<div class="row zone">
		<div class="two columns">
			<h2>Zone 2</h2>
		</div>
			<div class="two columns">
			<a href="#"><img id="z2_0" src="http://placehold.it/1000x1000"></a>
			</div>
			<div class="two columns">
			<a href="#"><img id="z2_1" src="http://placehold.it/1000x1000"></a>
			</div>
			<div class="two columns">
			<a href="#"><img id="z2_2" src="http://placehold.it/1000x1000"></a>
			</div>
			<div class="two columns">
			<a href="#"><img id="z2_3" src="http://placehold.it/1000x1000"></a>
			</div>
			<div class="two columns end">
			<a href="#"><img id="z2_4" src="http://placehold.it/1000x1000"></a>
			</div>
		</div>
		
		<div class="row zone">
		<div class="two columns">
			<h2>Zone 3</h2>
		</div>
			<div class="two columns">
			<a href="#"><img id="z3_0" src="http://placehold.it/1000x1000"></a>
			</div>
			<div class="two columns">
			<a href="#"><img id="z3_1" src="http://placehold.it/1000x1000"></a>
			</div>
			<div class="two columns">
			<a href="#"><img id="z3_2" src="http://placehold.it/1000x1000"></a>
			</div>
			<div class="two columns">
			<a href="#"><img id="z3_3" src="http://placehold.it/1000x1000"></a>
			</div>
			<div class="two columns end">
			<a href="#"><img id="z3_4" src="http://placehold.it/1000x1000"></a>
			</div>
		</div>
		
		<div class="row zone">
		<div class="two columns">
			<h2>Zone 4</h2>
		</div>
			<div class="two columns">
			<a href="#"><img id="z4_0" src="http://placehold.it/1000x1000"></a>
			</div>
			<div class="two columns">
			<a href="#"><img id="z4_1" src="http://placehold.it/1000x1000"></a>
			</div>
			<div class="two columns">
			<a href="#"><img id="z4_2" src="http://placehold.it/1000x1000"></a>
			</div>
			<div class="two columns">
			<a href="#"><img id="z4_3" src="http://placehold.it/1000x1000"></a>
			</div>
			<div class="two columns end">
			<a href="#"><img id="z4_4" src="http://placehold.it/1000x1000"></a>
			</div>
		</div>
		
		<div class="row zone">
		<div class="two columns">
			<h2>Zone 5</h2>
		</div>
			<div class="two columns">
			<a href="#"><img id="z5_0" src="http://placehold.it/1000x1000"></a>
			</div>
			<div class="two columns">
			<a href="#"><img id="z5_1" src="http://placehold.it/1000x1000"></a>
			</div>
			<div class="two columns">
			<a href="#"><img id="z5_2" src="http://placehold.it/1000x1000"></a>
			</div>
			<div class="two columns">
			<a href="#"><img id="z5_3" src="http://placehold.it/1000x1000"></a>
			</div>
			<div class="two columns end">
			<a href="#"><img id="z5_4" src="http://placehold.it/1000x1000"></a>
			</div>
		</div>
		
		<div class="row zone">
		<div class="two columns">
			<h2>Zone 6</h2>
		</div>
			<div class="two columns">
			<a href="#"><img id="z6_0" src="http://placehold.it/1000x1000"></a>
			</div>
			<div class="two columns">
			<a href="#"><img id="z6_1" src="http://placehold.it/1000x1000"></a>
			</div>
			<div class="two columns">
			<a href="#"><img id="z6_2" src="http://placehold.it/1000x1000"></a>
			</div>
			<div class="two columns">
			<a href="#"><img id="z6_3" src="http://placehold.it/1000x1000"></a>
			</div>
			<div class="two columns end">
			<a href="#"><img id="z6_4" src="http://placehold.it/1000x1000"></a>
			</div>
		</div>
		
		<div class="row">
			<div class="four columns offset-by-eight">
			<a id="add-more-button" href="#" class="large radius button">Add more images</a>
			</div>
		</div>
		
	<footer class="row">For Firstsite at Culture Hack East 2012. By <a href="http://www.twitter.com/DiogoSnows">Diogo Neves</a> & <a href="http://www.twitter.com/madebysplendid">Gary Aston.</a></footer>	
		
	</div><!-- container -->




	<!-- Included JS Files -->
	<script src="javascripts/jquery.min.js"></script>
	<script src="javascripts/foundation.js"></script>
	<script src="javascripts/app.js"></script>

	<script type="text/javascript">
		var zoneCount = 6;
		var zoneSize = 5;

		$(document).ready(function() {
			// Get zones info
			$.getJSON('./server/get_zones.php', function (data) {
				console.log(data);

				// go through zones
				for (var z = 1; z <= zoneCount; ++z) {
					var zone = data[z];
					var i = 0;

					if (zone != null && zone !== undefined) {
						// load images if we have stuff to load
						for (i in zone) {
							if (i >= zoneSize) break;

							var image = zone[i];
							var elementId = 'z' + z + '_' + i;
							
							console.log('adding image ' + image.title + ' to zone ' + z + ' id : ' + elementId);

							// TODO: Spinner!

							// Ok, load the image !
							// var imageWrapper = function () {
							// 	var id = elementId;
							// 	return function (data) { $('#' + id).attr('src', data); };
							// }
							// $.get(image.path, imageWrapper());
							$('#' + elementId).attr('src', image.path);
						}
						++i;
					}

					console.log(i);
					for (; i < zoneSize; ++i) {
						var imgId = 'z' + z + '_' + i;
						$('#' + imgId).attr('src', './images/no-image.png');
					}
				}
			});
		});
	</script>

</body>
</html>
